platform: linux

image_resource:
  type: docker-image
  source:
    repository: beranm14/terraform_zip
    tag: "0.11.10"

inputs:
- name: source
- name: common-tasks

outputs:
- name: terraform

caches:
- path: terraform-cache

params:
  command:
  directories:
  cache: "false"
  lock_timeout: 5m
  access_key:
  secret_key:
  session_token:
  github_access_token:
  github_private_key:

run:
  path: common-tasks/terraform/terraform.sh
